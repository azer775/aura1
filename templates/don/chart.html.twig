{% extends 'base.html.twig' %}

{% block body %}
	<h1>Donations Chart</h1>
	<div id="chart_div" style="width: 900px; height: 500px;"></div>

	<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
	<script type="text/javascript">
		google.charts.load('current', {'packages': ['corechart']});
google.charts.setOnLoadCallback(drawChart);

function drawChart() {
var jsonData = {{ chartData|raw }};

var data = new google.visualization.DataTable();
data.addColumn('string', 'Association');
data.addColumn('number', 'Montant total');

for (var i = 0; i < jsonData.rows.length; i++) {
data.addRow(jsonData.rows[i]);
}

var options = {
title: 'Donations by Association',
width: 900,
height: 500,
legend: {
position: 'none'
}
};

var chart = new google.visualization.ColumnChart(document.getElementById('chart_div'));
chart.draw(data, options);
}
	</script>
{% endblock %}
