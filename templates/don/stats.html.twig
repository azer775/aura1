{% extends 'base1.html.twig' %}

{% block title %}Statistiques des dons par association
{% endblock %}

{% block body %}
	<h1>Statistiques des dons par association</h1>

	<div id="donations_chart"></div>

	<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
	<script type="text/javascript">
		google.charts.load('current', {'packages': ['corechart']});
google.charts.setOnLoadCallback(drawChart);

function drawChart() {
var data = google.visualization.arrayToDataTable([[
'Association', 'Nombre de dons'
],{% for stat in stats %}[
'{{ stat.association }}', {{ stat.count }}
],{% endfor %}]);

var options = {
title: 'Statistiques des dons par association',
is3D: true
};

var chart = new google.visualization.PieChart(document.getElementById('donations_chart'));
chart.draw(data, options);
}
	</script>
	<a href="{{ path('app_don_index') }}">Back To List</a>
{% endblock %}
